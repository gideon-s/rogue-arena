// Generated by CoffeeScript 1.8.0
(function() {
  var __hasProp = {}.hasOwnProperty,
    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

  window.Weapon = (function() {
    function Weapon(fireRate, owner) {
      this.fireRate = fireRate;
      this.owner = owner;
    }

    Weapon.prototype.fire = function(dirIndex) {
      var xyDir;
      if ((this.lastFired != null) && Util.millisSince(this.lastFired) < this.fireRate) {
        return;
      }
      xyDir = Util.xyDir(dirIndex);
      this.shoot(xyDir);
      return this.lastFired = Util.millis();
    };

    return Weapon;

  })();

  window.Pistol = (function(_super) {
    __extends(Pistol, _super);

    function Pistol(owner) {
      Pistol.__super__.constructor.call(this, 150, owner);
    }

    Pistol.prototype.shoot = function(xyDir) {
      var nextLocation;
      nextLocation = this.owner.location.addDir(xyDir);
      return new Projectile(this.owner.game, nextLocation, xyDir, this.owner, "yellow", 20);
    };

    return Pistol;

  })(window.Weapon);

  window.GrenadeLauncher = (function(_super) {
    __extends(GrenadeLauncher, _super);

    function GrenadeLauncher(owner) {
      GrenadeLauncher.__super__.constructor.call(this, 500, owner);
    }

    GrenadeLauncher.prototype.shoot = function(xyDir) {
      var nextLocation;
      nextLocation = this.owner.location.addDir(xyDir);
      return new Grenade(this.owner.game, nextLocation, xyDir, this.owner, "red", 20);
    };

    return GrenadeLauncher;

  })(window.Weapon);

}).call(this);
