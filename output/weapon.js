// Generated by CoffeeScript 1.7.1
(function() {
  var __hasProp = {}.hasOwnProperty,
    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

  window.Weapon = (function() {
    function Weapon(fireRate, owner) {
      this.fireRate = fireRate;
      this.owner = owner;
    }

    Weapon.prototype.fire = function(dirIndex) {
      var xyDir;
      if ((this.lastFired != null) && Util.millisSince(this.lastFired) < this.fireRate) {
        return;
      }
      xyDir = Util.xyDir(dirIndex);
      this.shoot(xyDir);
      return this.lastFired = Util.millis();
    };

    return Weapon;

  })();

  window.Dart = (function(_super) {
    __extends(Dart, _super);

    function Dart(owner) {
      Dart.__super__.constructor.call(this, 150, owner);
    }

    Dart.prototype.shoot = function(xyDir) {
      var nextLocation;
      nextLocation = this.owner.location.addDir(xyDir);
      return new Projectile(this.owner.game, nextLocation, xyDir, this.owner, "yellow", 20);
    };

    return Dart;

  })(window.Weapon);

  window.FireBall = (function(_super) {
    __extends(FireBall, _super);

    function FireBall(owner) {
      FireBall.__super__.constructor.call(this, 500, owner);
    }

    FireBall.prototype.shoot = function(xyDir) {
      var nextLocation;
      nextLocation = this.owner.location.addDir(xyDir);
      return new Ball(this.owner.game, nextLocation, xyDir, this.owner, "red", 20);
    };

    return FireBall;

  })(window.Weapon);

  window.MagicMissile = (function(_super) {
    __extends(MagicMissile, _super);

    function MagicMissile(owner) {
      MagicMissile.__super__.constructor.call(this, 1000, owner);
    }

    MagicMissile.prototype.shoot = function(xyDir) {
      var nextLocation, projectile;
      nextLocation = this.owner.location.addDir(xyDir);
      projectile = new Projectile(this.owner.game, nextLocation, xyDir, this.owner, "white", 100);
      projectile.speed = 2;
      return projectile;
    };

    return MagicMissile;

  })(window.Weapon);

  window.SmokeTrail = (function(_super) {
    __extends(SmokeTrail, _super);

    function SmokeTrail(owner) {
      SmokeTrail.__super__.constructor.call(this, 200, owner);
    }

    SmokeTrail.prototype.shoot = function(xyDir) {
      var nextLocation, projectile, purples;
      nextLocation = this.owner.location.addDir(xyDir);
      purples = new Colorizor(["purple", "blue", "MediumAquamarine"]);
      projectile = new Particle(this.owner.game, nextLocation, this.owner, this.maxLife = 30, "purple", purples);
      projectile.speed = 500;
      return projectile;
    };

    return SmokeTrail;

  })(window.Weapon);

}).call(this);
